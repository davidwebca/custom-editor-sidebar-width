(()=>{"use strict";const e=window.wp.plugins,t=window.wp.element,n=window.wp.i18n,r=window.wp.editor,o=window.wp.components,i=window.wp.api,a=window.lodash;function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function l(e){var t=function(e){if("object"!=c(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==c(t)?t:t+""}function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(d=function(){return!!e})()}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}var p=280;i.loadPromise.then((function(){(new i.models.UsersMe).fetch().then((function(e){e.meta.editor_width&&(p=e.meta.editor_width,document.documentElement.style.setProperty("--cesw-sidebar-width",e.meta.editor_width+"px"))}))}));var w=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t,n){return t=s(t),function(e,t){if(t&&("object"==c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,d()?Reflect.construct(t,n||[],s(e).constructor):t.apply(e,n))}(this,t,[e])).state={value:e.initialValue},n.debouncedSave=(0,a.debounce)((function(e){new i.models.UsersMe({meta:{editor_width:e}}).save().then((function(e){n.setState({value:e.meta.editor_width}),p=e.meta.editor_width})),n.setWidth(e)}),500),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(t,e),r=t,(l=[{key:"componentDidMount",value:function(){var e=this;i.loadPromise.then((function(){(new i.models.UsersMe).fetch().then((function(t){t.meta.editor_width&&(e.setState({value:t.meta.editor_width}),e.setWidth(t.meta.editor_width))}))}))}},{key:"setWidth",value:function(e){document.documentElement.style.setProperty("--cesw-sidebar-width",e+"px")}},{key:"render",value:function(){var e=this;return React.createElement(o.RangeControl,{label:(0,n.__)("Width","cesw"),onChange:function(t){e.setState({value:t}),e.debouncedSave(t)},value:this.state.value,min:280,max:680})}}])&&u(r.prototype,l),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,l}(t.Component),m=React.createElement("svg",{width:"33",height:"18",viewBox:"0 0 33 18"},React.createElement("path",{d:"M21.183 12.174H11.97v4.39a.64.64 0 0 1-1.044.494L.824 9.208a.639.639 0 0 1-.113-.896C3.042 5.981 8.1 2.545 10.939.339a.639.639 0 0 1 1.03.504l.002 4.39h9.212V.843a.64.64 0 0 1 1.044-.494l10.103 7.85a.639.639 0 0 1 .113.896c-2.33 2.33-7.39 5.767-10.228 7.973a.64.64 0 0 1-1.03-.505l-.002-4.389z"}));(0,e.registerPlugin)("plugin-sidebar-width",{render:function(){return React.createElement(t.Fragment,null,React.createElement(r.PluginSidebarMoreMenuItem,{target:"plugin-sidebar-width",icon:m},(0,n.__)("Sidebar width","cesw")),React.createElement(r.PluginSidebar,{name:"plugin-sidebar-width",title:(0,n.__)("Sidebar width","cesw"),icon:m},React.createElement(o.Panel,null,React.createElement(o.PanelBody,null,React.createElement(w,{initialValue:p})))))}})})();